{
  "version": "2.4.1",
  "summary": {
    "title": "Mega Travel Threat Model",
    "owner": "Team MegaTravel",
    "description": "Threat model for MegaTravel reservation processing",
    "id": 0
  },
  "detail": {
    "contributors": [
      {
        "name": "adamoviccj"
      },
      {
        "name": "trami25"
      }
    ],
    "diagrams": [
      {
        "id": 1,
        "title": "Reservation Processing DFD",
        "diagramType": "DFD",
        "placeholder": "Data Flow Diagram for reservation flow",
        "thumbnail": "./public/content/images/thumbnail.dfd.jpg",
        "version": "2.4.1",
        "cells": [
          {
            "position": { "x": 80, "y": 200 },
            "size": { "width": 112.5, "height": 60 },
            "shape": "actor",
            "id": "browser",
            "data": {
              "type": "tm.Actor",
              "name": "Browser",
              "description": "Customer browser accessing the website",
              "outOfScope": false
            }
          },
          {
            "position": { "x": 300, "y": 200 },
            "size": { "width": 80, "height": 80 },
            "shape": "process",
            "id": "webapp",
            "data": {
              "type": "tm.Process",
              "name": "Web Application",
              "description": "Handles incoming HTTP requests",
              "outOfScope": false
            }
          },
          {
            "position": { "x": 500, "y": 100 },
            "size": { "width": 80, "height": 80 },
            "shape": "process",
            "id": "worker",
            "data": {
              "type": "tm.Process",
              "name": "Background Worker Process",
              "description": "Processes reservations and payments",
              "outOfScope": false
            }
          },
          {
            "position": { "x": 500, "y": 300 },
            "size": { "width": 80, "height": 60 },
            "shape": "datastore",
            "id": "db",
            "data": {
              "type": "tm.DataStore",
              "name": "Reservations Database",
              "description": "Stores reservations and transactions",
              "outOfScope": false
            }
          },
          {
            "position": { "x": 700, "y": 200 },
            "size": { "width": 80, "height": 60 },
            "shape": "externalentity",
            "id": "payment",
            "data": {
              "type": "tm.ExternalEntity",
              "name": "Payment Processor",
              "description": "External payment gateway",
              "outOfScope": false
            }
          },
          {
            "position": { "x": 300, "y": 50 },
            "size": { "width": 80, "height": 60 },
            "shape": "externalentity",
            "id": "queue",
            "data": {
              "type": "tm.ExternalEntity",
              "name": "Message Queue",
              "description": "Queue for async processing",
              "outOfScope": false
            }
          },
          {
            "shape": "flow",
            "id": "flow1",
            "source": { "cell": "browser", "port": "right" },
            "target": { "cell": "webapp", "port": "left" },
            "data": { "name": "HTTPS Request" }
          },
          {
            "shape": "flow",
            "id": "flow2",
            "source": { "cell": "webapp", "port": "left" },
            "target": { "cell": "browser", "port": "right" },
            "data": { "name": "HTTPS Response" }
          },
          {
            "shape": "flow",
            "id": "flow3",
            "source": { "cell": "webapp", "port": "top" },
            "target": { "cell": "queue", "port": "bottom" },
            "data": { "name": "Put Reservation Message" }
          },
          {
            "shape": "flow",
            "id": "flow4",
            "source": { "cell": "queue", "port": "bottom" },
            "target": { "cell": "worker", "port": "top" },
            "data": { "name": "Process Message" }
          },
          {
            "shape": "flow",
            "id": "flow5",
            "source": { "cell": "worker", "port": "bottom" },
            "target": { "cell": "db", "port": "top" },
            "data": { "name": "Update Reservation" }
          },
          {
            "shape": "flow",
            "id": "flow6",
            "source": { "cell": "worker", "port": "right" },
            "target": { "cell": "payment", "port": "left" },
            "data": { "name": "Payment API Call" }
          }
        ]
      }
    ],
    "diagramTop": 2,
    "reviewer": "Security Architect",
    "threatTop": 0
  }
}
